---
title: Manejo de nonce
description: Aprende cómo manejar nonces en Stacks.
---
Para evitar transacciones "atascadas", debes rastrear el próximo nonce disponible para los principales que emiten transacciones. La
API de Stacks Blockchain proporciona un endpoint para simplificar el manejo de nonces al usar el siguiente comando:

```terminal
$ curl 'https://api.testnet.hiro.so/extended/v1/address/<principal>/nonces'
```

```json
{
  "last_executed_tx_nonce": 5893,
  "last_mempool_tx_nonce": null,
  "possible_next_nonce": 5894,
  "detected_missing_nonces": []
}
```

El `possible_next_nonce` property es el nonce sugerido para la próxima transacción de un principal determinado. Se deriva como el siguiente número entero al nonce más grande encontrado en bloques y mempool. No tiene en cuenta los nonces faltantes.

El `detected_missing_nonces` La propiedad encuentra cualquier nonce no contiguo después de inspeccionar las transacciones de los bloques y el mempool. Por ejemplo, para un principal dado, si la última transacción incluida en un bloque tiene un nonce de 5, y hay solo una transacción en el mempool con nonce 7, entonces indica que probablemente algo salió mal con la transacción con nonce 6 (ya sea que no fue creada o transmitida correctamente por un cliente, o fue descartada por cualquier razón). Esto es una fuerte indicación de que la transacción del mempool con nonce 7 nunca será minada ya que falta el nonce anterior.

Los clientes que continúan transmitiendo transacciones con el `possible_next_nonce` propiedad de 8, luego 9, luego 10, probablemente resultará en que todas sus transacciones pendientes/en mempool nunca se procesen. Para que todas las transacciones se procesen, los clientes deben primero usar cualquier nonce faltante antes de usar el sugerido `possible_next_nonce`.
