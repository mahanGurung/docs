---
title: Cuentas y direcciones
description: Aprende cómo obtener una dirección a partir de una cuenta
---
Stacks utiliza el concepto de una "cuenta" para representar la identidad de un usuario en la blockchain. Una cuenta se identifica mediante una dirección única derivada de la clave pública de la cuenta.

## Formatos de dirección

Las direcciones de Stacks utilizan diferentes prefijos para indicar la red a la que pertenecen, lo que facilita distinguir entre direcciones de mainnet y testnet.

```typescript
// Mainnet address starts with 'SP'
const mainnetAddress = 'SP3FGQ8Z7JY9BWYZ5WM53E0M9NK7WHJF0691NZ159';

// Testnet address starts with 'ST'
const testnetAddress = 'ST2F4BK4GZH6YFBNHYDDGN4T1RKBA7DA1BJZPJEJJ';
```

El formato de dirección garantiza que los tokens en la red de pruebas no puedan enviarse accidentalmente a direcciones de la red principal y viceversa.

## Obtener una dirección

Existen varias formas de obtener una dirección de Stacks dependiendo de tu caso de uso y del material criptográfico que tengas disponible.

### Uso de Stacks Connect

Al crear aplicaciones orientadas al usuario, normalmente obtendrás direcciones de usuarios que conectan sus billeteras a través de Stacks Connect.

```tsx
import { connect, getLocalStorage, request } from '@stacks/connect';

async function handleWalletConnection() {
  // Connect to wallet
  const response = await connect();
  
  // Get stored addresses
  const data = getLocalStorage();
  const stxAddresses = data.addresses.stx;
  
  if (stxAddresses && stxAddresses.length > 0) {
    const address = stxAddresses[0].address;
    console.log('STX Address:', address);
    // 'SP1MXSZF4NFC8JQ1TTYGEC2WADMC7Y3GHVZYRX6RF'
  }
  
  // Get detailed account info if needed
  const accounts = await request('stx_getAccounts');
  console.log('Account details:', accounts.addresses[0]);
}
```

Stacks Connect almacena las direcciones conectadas en el almacenamiento local, permitiendo que tu aplicación mantenga la conexión a través de recargas de página.

### Uso de una frase semilla

Para la generación programática de billeteras o al restaurar cuentas desde una copia de seguridad, puedes derivar direcciones a partir de una frase semilla (también conocida como mnemotécnica).

```typescript
import { generateWallet, generateSecretKey } from '@stacks/wallet-sdk';

async function createWalletFromSeed() {
  // Generate a new 24-word seed phrase
  const secretKey = generateSecretKey();
  
  // Or use an existing seed phrase
  // const secretKey = 'already owned seed phrase ...';
  
  const wallet = await generateWallet({
    secretKey,
    password: 'optional-encryption-password',
  });
  
  // Get the first account's address
  const account = wallet.accounts[0];
  const mainnetAddress = account.address;
  
  console.log('Address:', mainnetAddress);
  console.log('Private key:', account.stxPrivateKey);
}
```

Cada billetera puede contener múltiples cuentas, todas derivadas de la misma frase semilla utilizando diferentes rutas de derivación.

### Uso de una clave privada

Si ya tienes una clave privada, puedes derivar directamente la dirección correspondiente sin pasar por el proceso de generación de billetera.

```typescript
import { privateKeyToAddress, TransactionVersion } from '@stacks/transactions';

function getAddressFromPrivateKey() {
  // Compressed private key (64 or 66 characters)
  const privateKey = 'your-private-key-here';
  
  // For mainnet
  const mainnetAddress = privateKeyToAddress(
    privateKey, 
    TransactionVersion.Mainnet
  );
  
  // For testnet
  const testnetAddress = privateKeyToAddress(
    privateKey, 
    TransactionVersion.Testnet
  );
  
  console.log('Mainnet:', mainnetAddress);
  console.log('Testnet:', testnetAddress);
}
```

La misma clave privada generará diferentes direcciones para la red principal y la red de pruebas debido a los bytes de versión específicos de cada red.

### Uso de una clave pública

Cuando solo tienes acceso a una clave pública (por ejemplo, en un escenario de billetera de solo visualización), aún puedes derivar la dirección correspondiente.

```typescript
import { publicKeyToAddress, TransactionVersion } from '@stacks/transactions';

function getAddressFromPublicKey() {
  // Compressed public key (66 characters starting with 02 or 03)
  const publicKey = '03b3e0a76b292b2c83fc0ac14ae6160d0438ebe94e14bbb7d0ded3c217f3d29ba7';
  
  // For mainnet
  const mainnetAddress = publicKeyToAddress(
    publicKey,
    TransactionVersion.Mainnet
  );
  
  // For testnet  
  const testnetAddress = publicKeyToAddress(
    publicKey,
    TransactionVersion.Testnet
  );
  
  console.log('Mainnet:', mainnetAddress);
  // 'SP1MXSZF4NFC8JQ1TTYGEC2WADMC7Y3GHVZYRX6RF'
}
```

Esto es útil para crear billeteras de solo visualización o verificar direcciones sin acceso a las claves privadas.

## Validación de dirección

Antes de enviar transacciones, es importante validar que las direcciones estén correctamente formateadas.

```typescript
import { validateStacksAddress } from '@stacks/transactions';

function isValidAddress(address: string): boolean {
  try {
    // Check if it's a valid mainnet address
    if (address.startsWith('SP')) {
      return validateStacksAddress(address);
    }
    
    // Check if it's a valid testnet address
    if (address.startsWith('ST')) {
      return validateStacksAddress(address);
    }
    
    return false;
  } catch (error) {
    return false;
  }
}

// Examples
console.log(isValidAddress('SP3FGQ8Z7JY9BWYZ5WM53E0M9NK7WHJF0691NZ159')); // true
console.log(isValidAddress('invalid-address')); // false
```

Siempre verifique las direcciones antes de usarlas en transacciones para evitar la pérdida de fondos debido a errores tipográficos o de formato.

## Lecturas adicionales

* [Conectar billetera](/reference/stacks.js/connect-wallet)
