---
title: Construir una post-condición STX
description: Una función auxiliar que crea una post-condición para transferencias de tokens STX utilizando la clase constructora Pc, asegurando que se transfieran las cantidades exactas según lo esperado.
full: true
---
```typescript
import {
  AnchorMode,
  broadcastTransaction,
  makeSTXTokenTransfer,
  Pc,
  PostConditionMode,
} from "@stacks/transactions";

// Create a post-condition that ensures exactly 10 STX is sent
const pc = Pc.principal("ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM")
  .willSendEq(10000000)  // 10 STX in micro-STX
  .ustx();

const txOptions = {
  recipient: "ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5",
  amount: 10000000,
  senderKey: "753b7cc01a1a2e86221266a154af739463fce51219d97e4f856cd7200c3bd2a601",
  network: "testnet",
  postConditions: [pc],
  postConditionMode: PostConditionMode.Deny,
  anchorMode: AnchorMode.Any,
};

const transaction = await makeSTXTokenTransfer(txOptions);
const broadcastResponse = await broadcastTransaction(transaction);
console.log("Transaction ID:", broadcastResponse.txid);
```

## Casos de uso

* Asegurando las transferencias de tokens STX con validación del monto de transferencia
* Protegiendo a los usuarios de transferencias de tokens inesperadas
* Asegurando que las interacciones del contrato se comporten como se espera

## Conceptos clave

El `Pc` builder proporciona una interfaz fluida para crear post-condiciones:

* `Pc.principal()` - Especificar el principal que enviará los tokens
* `.willSendEq()` - Asegúrate de que se envíe exactamente esta cantidad (también admite `willSendGte`, `willSendLte`, `willSendGt`, `willSendLt`)
* `.ustx()` - Especificar el tipo de token (micro-STX)
