---
title: Función auxiliar para restringir llamadas a contratos
description: Implementar control de acceso para garantizar que las funciones solo puedan ser llamadas por usuarios, no por otros contratos
---
```clarity
;; Check if caller is a standard principal (user wallet)
(define-private (is-standard-principal-call)
  (is-none (get name (unwrap! (principal-destruct? contract-caller) false)))
)

;; Public function restricted to direct user calls
(define-public (user-only-function (amount uint))
  (begin
    (asserts! (is-standard-principal-call) (err u401))
    ;; Function logic here
    (ok true)
  )
)
```

## Casos de uso

* Prevención de ataques de reentrada de contrato a contrato
* Garantizando transacciones iniciadas por humanos para la gobernanza
* Restringir la acuñación de tokens a acciones directas del usuario
* Protegiendo las funciones de administrador de llamadas automatizadas

## Conceptos clave

Tipos principales en Clarity:

* **Directores estándar**: Billeteras de usuario (direcciones SP/ST)
* **Principales del contrato**: Contratos desplegados (dirección.nombre-del-contrato)
* **contrato-llamador**: El llamante inmediato de la función actual
* **tx-remitente**: El iniciador original de la transacción
