---
title: Devolver una entrada de un mapa
description: Consultar datos del mapa de contratos utilizando el endpoint map_entry de la API de Stacks
---
```typescript
import { Cl, cvToHex } from "@stacks/transactions";

// Query a map entry from a contract
const contractAddress = "ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM";
const contractName = "my-contract";
const mapName = "user-balances";

// Create the map key (e.g., a principal)
const mapKey = Cl.standardPrincipal("ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5");

const response = await fetch(
  `https://api.hiro.so/v2/map_entry/${contractAddress}/${contractName}/${mapName}`,
  {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
    },
    body: JSON.stringify(cvToHex(mapKey)),
  }
);

const result = await response.json();
const data = result.data ? Cl.deserialize(result.data) : null;

console.log("Map value:", data);
```

## Casos de uso

* Leyendo saldos de usuarios desde contratos de tokens
* Verificando registros de propiedad de NFT
* Recuperando valores de configuración de contratos
* Monitoreando el estado del contrato sin transacciones

## Conceptos clave

La API map\_entry:

* **Solicitud POST**: Enviar la clave del mapa serializado
* **Codificación hexadecimal**: Las claves deben ser valores de Clarity codificados en hexadecimal
* **Formato de respuesta**: Devuelve el valor de Clarity codificado en hexadecimal o null
